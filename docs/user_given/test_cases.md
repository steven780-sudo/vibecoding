# 测试用例 (Test Cases): Chronos v0.1

## 1. 测试范围
本测试用例旨在覆盖Chronos MVP版本的所有核心功能，确保产品符合PRD v0.2中定义的需求。测试主要通过黑盒测试方法进行，模拟真实用户的操作路径。

## 2. 功能测试用例

### 模块一：时光库初始化

| 用例ID | 功能模块 | 测试标题 | 前置条件 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| CH-TC-001 | 初始化 | **【冒烟】** 成功初始化一个空文件夹 | 存在一个普通的、空的本地文件夹 | 1. 在该文件夹上右键 <br> 2. 选择 "Chronos" -> "启用时光机" | 1. 弹出“启用成功”提示 <br> 2. 文件夹图标增加角标 <br> 3. 文件夹内生成一个`.git`隐藏目录 |
| CH-TC-002 | 初始化 | **【正常】** 成功初始化一个带文件的文件夹 | 存在一个包含若干文件的普通文件夹 | (同上) | (同上) |
| CH-TC-003 | 初始化 | **【边缘】** 在已是Git仓库的文件夹上操作 | 文件夹已通过命令行`git init`初始化 | 1. 在该文件夹上右键 <br> 2. 检查 "Chronos" 菜单 | 菜单项应显示为“已启用”或不可点击状态，并有相应提示。 |
| CH-TC-004 | 初始化 | **【异常】** 对没有写入权限的文件夹操作 | 文件夹被设置为只读 | (同 CH-TC-001 的操作步骤) | 应用应捕获错误，并向用户弹出明确的“权限不足”错误提示。 |

### 模块二：创建快照

| 用例ID | 功能模块 | 测试标题 | 前置条件 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| CH-TC-005 | 创建快照 | **【冒烟】** 对新增文件的变更成功创建快照 | 时光库内新增一个文件 | 1. 右键时光库 -> "创建快照" <br> 2. 在弹窗中输入描述 <br> 3. 点击“确认创建” | 1. 弹出“快照创建成功”通知 <br> 2. 再次打开快照窗口，文件列表为空 |
| CH-TC-006 | 创建快照 | **【正常】** 对修改、删除文件的混合变更创建快照 | 时光库内修改一个文件、删除一个文件 | (同上) | (同上) |
| CH-TC-007 | 创建快照 | **【UI】** 快照窗口能正确显示不同状态的文件 | 时光库内有新增、修改、删除的文件 | 1. 右键时光库 -> "创建快照" | 弹窗的文件列表中，应使用不同颜色或图标清晰地区分三种状态的文件。 |
| CH-TC-008 | 创建快照 | **【校验】** 不填写描述时，“确认”按钮不可用 | - | 1. 右键时光库 -> "创建快照" <br> 2. 不输入任何描述 | “确认创建”按钮应为置灰/禁用状态。 |
| CH-TC-009 | 创建快照 | **【正常】** 无任何变更时，右键菜单的提示 | 时光库与最新快照完全一致 | 1. 右键时光库 | “创建快照”选项旁的数字角标应为“0”或不显示。 |

### 模块三：历史与回滚

| 用例ID | 功能模块 | 测试标题 | 前置条件 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| CH-TC-010 | 历史查看 | **【冒烟】** 成功打开历史浏览器并看到快照 | 仓库至少有一个快照 | 1. 右键时光库 -> "查看历史" | 1. 成功打开历史窗口 <br> 2. 窗口左侧列表显示正确的快照信息 |
| CH-TC-011 | 历史查看 | **【UI】** 空状态引导 | 刚初始化的时光库，无任何快照 | (同上) | 窗口应显示友好的空状态提示，引导用户去创建第一个快照。 |
| CH-TC-012 | 回滚 | **【冒烟】** 成功回滚到上一个版本 | 仓库至少有两个快照 | 1. 打开历史浏览器 <br> 2. 选择第二新的快照 <br> 3. 点击“恢复到此版本” <br> 4. 在警告弹窗中点“确认” | 1. 文件夹内容恢复到指定版本 <br> 2. 弹出“恢复成功”提示 |
| CH-TC-013 | 回滚 | **【校验】** 回滚前的严重警告 | (同上) | (同上，但在警告弹窗中点“取消”) | 文件夹内容不应发生任何改变，操作被中断。 |

### 模块四：分支管理

| 用例ID | 功能模块 | 测试标题 | 前置条件 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| CH-TC-014 | 分支 | **【冒烟】** 成功创建新分支 | - | 1. 打开历史浏览器 <br> 2. 点击分支下拉菜单 -> "新建分支" <br> 3. 输入分支名并确认 | 1. 弹出“创建成功”提示 <br> 2. 分支下拉菜单中出现新分支名，并自动切换过去 |
| CH-TC-015 | 分支 | **【正常】** 在不同分支间成功切换 | 存在至少两个分支 | 1. 打开历史浏览器 <br> 2. 在分支下拉菜单中选择另一个分支 | 1. 文件夹内容随之改变，以匹配所选分支的状态 <br> 2. 下拉菜单的当前显示更新为所选分支 |
| CH-TC-016 | 合并 | **【冒烟】** 成功将无冲突的分支合并回主版本 | 在一个特性分支上做了修改，且主版本无任何新改动 | 1. 切换到特性分支 <br> 2. 点击“合并回主版本”按钮 <br> 3. 在弹窗中确认 | 1. 弹出“合并成功”提示 <br> 2. 自动切换回主版本 <br> 3. 主版本中包含了特性分支的修改 |
